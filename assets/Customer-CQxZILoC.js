import{Q as y,a as f,b as _,c as m}from"./QTable-B9eYP4eX.js";import{_ as x,C as Q,D as n,E as o,J as s,F as t,I as l,H as b,L as g,K as i,G as T,ad as h,O as B,P as L,Q as P}from"./index-DX0maaL-.js";import{Q as C}from"./QMarkupTable-SOmalqxG.js";import{Q as p}from"./QCard-Cv2hbFXj.js";import{Q as k}from"./QImg-sXyVYKTm.js";import{Q as N}from"./QCardSection-eRiuxrX-.js";import{Q as S}from"./QCardActions-Brthngrc.js";import{Q as q}from"./QPage-CvDLB1g8.js";import"./use-key-composition-B4KWYnSM.js";import"./use-timeout-COPk73-K.js";import"./focus-manager-zjdVGI5d.js";import"./QResizeObserver-C4E5clXU.js";import"./QChip-CfgR1eIm.js";import"./QSelect-BuM0jITm.js";import"./QSeparator-Ds1oiRxq.js";import"./use-fullscreen-t_yWCZrt.js";const D={data(){return{activeTab:"bids",activeBids:[{id:1,photo:"/images/pigeon.png",name:"MOONLIGHT",myBid:12e3,currentPrice:12e3,endDate:"2023-07-25T18:00:00"},{id:2,photo:"/images/pigeon.png",name:"FLYHIGH",myBid:8500,currentPrice:9e3,endDate:"2023-07-28T12:00:00"}],bidsColumns:[{name:"photo",label:"Фото и название",field:"photo",align:"left",sortable:!0},{name:"myBid",label:"Ваша ставка",field:"myBid",align:"center",sortable:!0},{name:"currentPrice",label:"Текущая цена",field:"currentPrice",align:"center",sortable:!0},{name:"endDate",label:"Дата окончания",field:"endDate",align:"center",sortable:!0}],wonLots:[{id:3,photo:"/images/pigeon.png",name:"BLUE LIGHTNING",finalPrice:15e3,paymentStatus:"оплачено"},{id:4,photo:"/images/pigeon.png",name:"GOLDEN WINGS",finalPrice:22e3,paymentStatus:"оплатить"}],wonColumns:[{name:"photo",label:"Фото и название",field:"photo",align:"left",sortable:!0},{name:"finalPrice",label:"Итоговая цена",field:"finalPrice",align:"center",sortable:!0},{name:"paymentStatus",label:"Статус оплаты",field:"paymentStatus",align:"center",sortable:!0}],favoriteLots:[{id:5,photo:"/images/pigeon.png",name:"RED BARON",currentPrice:18e3,auctionName:"Голубиный рай"},{id:6,photo:"/images/pigeon.png",name:"SILVER STORM",currentPrice:25e3,auctionName:"Элитные породы"}]}},methods:{formatTimeLeft(d){const u=new Date(d)-new Date;if(u<=0)return"Аукцион завершен";const a=Math.floor(u/(1e3*60*60*24)),c=Math.floor(u%(1e3*60*60*24)/(1e3*60*60));return`${a}д ${c}ч`},payForLot(d){this.$router.push(`/payment/${d.id}`)},goToLot(d){this.$router.push("/lot/")}},mounted(){this.timer=setInterval(()=>{this.activeBids=[...this.activeBids]},6e4)},beforeUnmount(){clearInterval(this.timer)}},I={class:"tab-content"},V={key:0,class:"bids-section"},G={class:"row items-center"},E=["src"],O={key:1,class:"won-section"},F={class:"row items-center"},H=["src"],M={key:0,class:"text-positive"},R=["onClick"],z={key:2,class:"favorites-section"},A={class:"row q-col-gutter-md"},U={class:"text-h6 text-weight-bold"},J={class:"text-subtitle1 q-mt-sm"},K={class:"text-caption text-grey-7 q-mt-sm"};function W(d,r,v,u,a,c){return n(),Q(q,{class:"customer-page"},{default:o(()=>[r[4]||(r[4]=s("div",{class:"page-header"},[s("h1",{class:"section-title"},"Личный кабинет покупателя"),s("div",{class:"section-divider"})],-1)),t(y,{modelValue:a.activeTab,"onUpdate:modelValue":r[0]||(r[0]=e=>a.activeTab=e),"inline-label":"","outside-arrows":"","mobile-arrows":"",class:"customer-tabs q-mb-xl"},{default:o(()=>[t(f,{name:"bids",label:"Мои ставки","no-caps":""}),t(f,{name:"won",label:"Выигранные лоты","no-caps":""}),t(f,{name:"favorites",label:"Избранное","no-caps":""})]),_:1},8,["modelValue"]),s("div",I,[a.activeTab==="bids"?(n(),l("div",V,[t(p,{flat:"",bordered:"",class:"q-pa-md"},{default:o(()=>[r[1]||(r[1]=s("div",{class:"text-h5 q-mb-md"},"Активные лоты со ставками",-1)),t(_,{rows:a.activeBids,columns:a.bidsColumns,"row-key":"id",pagination:{rowsPerPage:10},flat:"",bordered:""},{"body-cell-photo":o(e=>[t(m,{props:e},{default:o(()=>[s("div",G,[t(h,{size:"50px",class:"q-mr-sm"},{default:o(()=>[s("img",{src:e.row.photo},null,8,E)]),_:2},1024),s("span",null,i(e.row.name),1)])]),_:2},1032,["props"])]),"body-cell-myBid":o(e=>[t(m,{props:e,class:T({"text-bold":e.row.myBid===e.row.currentPrice})},{default:o(()=>[g(i(e.row.myBid)+" ₸ ",1)]),_:2},1032,["props","class"])]),"body-cell-endDate":o(e=>[t(m,{props:e},{default:o(()=>[t(C,{color:"grey"},{default:o(()=>[g(i(c.formatTimeLeft(e.row.endDate)),1)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1,__:[1]})])):b("",!0),a.activeTab==="won"?(n(),l("div",O,[t(p,{flat:"",bordered:"",class:"q-pa-md"},{default:o(()=>[r[2]||(r[2]=s("div",{class:"text-h5 q-mb-md"},"Выигранные лоты",-1)),t(_,{rows:a.wonLots,columns:a.wonColumns,"row-key":"id",pagination:{rowsPerPage:10},flat:"",bordered:""},{"body-cell-photo":o(e=>[t(m,{props:e},{default:o(()=>[s("div",F,[t(h,{size:"50px",class:"q-mr-sm"},{default:o(()=>[s("img",{src:e.row.photo},null,8,H)]),_:2},1024),s("span",null,i(e.row.name),1)])]),_:2},1032,["props"])]),"body-cell-paymentStatus":o(e=>[t(m,{props:e},{default:o(()=>[e.row.paymentStatus==="оплачено"?(n(),l("span",M,i(e.row.paymentStatus),1)):(n(),l("span",{key:1,class:"text-negative cursor-pointer",onClick:w=>c.payForLot(e.row)},i(e.row.paymentStatus),9,R))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1,__:[2]})])):b("",!0),a.activeTab==="favorites"?(n(),l("div",z,[t(p,{flat:"",bordered:"",class:"q-pa-md"},{default:o(()=>[r[3]||(r[3]=s("div",{class:"text-h5 q-mb-md"},"Избранные лоты",-1)),s("div",A,[(n(!0),l(B,null,L(a.favoriteLots,e=>(n(),l("div",{key:e.id,class:"col-xs-12 col-sm-6 col-md-4"},[t(p,{flat:"",bordered:"",class:"lot-card",style:{"max-width":"280px"}},{default:o(()=>[t(k,{src:e.photo,ratio:4/3,fit:"contain"},null,8,["src"]),t(N,null,{default:o(()=>[s("div",U,i(e.name),1),s("div",J,i(e.currentPrice)+" ₸",1),s("div",K,i(e.auctionName),1)]),_:2},1024),t(S,null,{default:o(()=>[t(P,{color:"primary",label:"Перейти к лоту",onClick:w=>c.goToLot(e.id),class:"full-width"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1,__:[3]})])):b("",!0)])]),_:1,__:[4]})}const me=x(D,[["render",W],["__scopeId","data-v-e81770cb"]]);export{me as default};

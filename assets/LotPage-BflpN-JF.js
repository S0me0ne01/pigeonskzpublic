import{c as j,a as g,h as m,d as Z,g as $,w as z,ak as ee,m as te,o as oe,a2 as le,Q as w,u as ne,_ as ae,C as A,D as d,E as s,I as o,F as u,G as v,O as h,P as x,K as r,L as p,H as O}from"./index-CGuJnLNy.js";import{u as re,b as ie,c as se,d as ue}from"./use-panel-B_QTCGoK.js";import{u as ce,a as de}from"./use-dark-JeAUqahc.js";import{u as me,b as ve,c as ge,Q as S,a as R}from"./use-fullscreen-0v5d5QSu.js";import{Q as y}from"./QCard-CJ9EIhPh.js";import{Q as _e}from"./QInput-C0O3n1j0.js";import{Q as fe}from"./QPage-D-h28c__.js";import"./use-key-composition-BKQQajaR.js";import"./use-timeout-BMymW6dq.js";const be=j({name:"QCarouselSlide",props:{...re,imgSrc:String},setup(e,{slots:l}){const _=g(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>m("div",{class:"q-carousel__slide",style:_.value},Z(l.default))}}),he=["top","right","bottom","left"],qe=["regular","flat","outline","push","unelevated"],xe=j({name:"QCarousel",props:{...ce,...se,...ve,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>qe.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>he.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...me,...ie],setup(e,{slots:l}){const{proxy:{$q:_}}=$(),I=de(e,_);let t=null,f;const{updatePanelsList:n,getPanelContent:c,panelDirectives:G,goToPanel:T,previousPanel:Q,nextPanel:V,getEnabledPanels:K,panelIndex:q}=ue(),{inFullscreen:D}=ge(),J=g(()=>D.value!==!0&&e.height!==void 0?{height:e.height}:{}),k=g(()=>e.vertical===!0?"vertical":"horizontal"),N=g(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),W=g(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(D.value===!0?" fullscreen":"")+(I.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${k.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${N.value}`:"")),E=g(()=>{const a=[e.prevIcon||_.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||_.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&_.lang.rtl===!0?a.reverse():a}),L=g(()=>e.navigationIcon||_.iconSet.carousel.navigationIcon),X=g(()=>e.navigationActiveIcon||L.value),C=g(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));z(()=>e.modelValue,()=>{e.autoplay&&P()}),z(()=>e.autoplay,a=>{a?P():t!==null&&(clearTimeout(t),t=null)});function P(){const a=ee(e.autoplay)===!0?Math.abs(e.autoplay):5e3;t!==null&&clearTimeout(t),t=setTimeout(()=>{t=null,a>=0?V():Q()},a)}te(()=>{e.autoplay&&P()}),oe(()=>{t!==null&&clearTimeout(t)});function F(a,b){return m("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${a} q-carousel__navigation--${N.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[m("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},K().map(b))])}function Y(){const a=[];if(e.navigation===!0){const b=l["navigation-icon"]!==void 0?l["navigation-icon"]:i=>m(w,{key:"nav"+i.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${i.active===!0?"":"in"}active`,...i.btnProps,onClick:i.onClick}),B=f-1;a.push(F("buttons",(i,U)=>{const H=i.props.name,M=q.value===U;return b({index:U,maxIndex:B,name:H,active:M,btnProps:{icon:M===!0?X.value:L.value,size:"sm",...C.value},onClick:()=>{T(H)}})}))}else if(e.thumbnails===!0){const b=e.controlColor!==void 0?` text-${e.controlColor}`:"";a.push(F("thumbnails",B=>{const i=B.props;return m("img",{key:"tmb#"+i.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${i.name===e.modelValue?"":"in"}active`+b,src:i.imgSrc||i["img-src"],onClick:()=>{T(i.name)}})}))}return e.arrows===!0&&q.value>=0&&((e.infinite===!0||q.value>0)&&a.push(m("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${k.value} absolute flex flex-center`},[m(w,{icon:E.value[0],...C.value,onClick:Q})])),(e.infinite===!0||q.value<f-1)&&a.push(m("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${k.value} absolute flex flex-center`},[m(w,{icon:E.value[1],...C.value,onClick:V})]))),ne(l.control,a)}return()=>(f=n(l),m("div",{class:W.value,style:J.value},[le("div",{class:"q-carousel__slides-container"},c(),"sl-cont",e.swipeable,()=>G.value)].concat(Y())))}}),ye={data(){return{currentImage:0,newBid:0,userBid:0,lot:{id:"6546386545",name:"BLUE THUNDER",images:["/pigeonskzpublic/images/pigeon.png","/pigeonskzpublic/images/pigeon.png"],year:"2023",gender:"Самец",color:"BLUE BAR",description:"Элитный голубь с отличными летными качествами...",achievements:['1 место на выставке "Голуби мира 2022"',"2 место в соревнованиях на дальность полета"],characteristics:{"Цвет глаз":"Красный",Размер:"Средний","Форма тела":"Вытянутая","Состояние мышц":"Упругие",Активность:"Энергичный","Устойчивость таза":"Мягкий","Баланс тела в руке":"Нормальный","Плотность оперения":"Ровное","Длина крыльев":"12.4 мм","Гибкость крыла":"Жёсткое","Состояние пера":"Шелковистое","Смыкание маховых перьев":"Плотное","Длина хвоста":"12.4 мм"},currentPrice:25e3,bidHistory:[{user:"user123",amount:22e3,time:"2023-07-20T14:30:00"},{user:"pigeonlover",amount:24e3,time:"2023-07-20T15:45:00"},{user:"user123",amount:25e3,time:"2023-07-20T16:20:00"}]}}},methods:{placeBid(){this.userBid=this.newBid,this.lot.currentPrice=this.newBid,this.lot.bidHistory.push({user:"Вы",amount:this.newBid,time:new Date().toISOString()}),this.newBid=0},formatTime(e){return new Date(e).toLocaleTimeString()}}},we={class:"row q-col-gutter-lg"},ke={class:"col-md-7"},Ce=["src"],Pe={class:"text-h4"},Be={class:"text-caption text-grey-7 q-mb-md"},pe={class:"q-gutter-sm q-mb-md"},Se={class:"text-body1 q-mb-md"},Ie={class:"text-weight-bold"},Te={class:"col-md-5"},Qe={class:"row items-center q-mb-md"},Ve={class:"col-auto text-h5 text-weight-bold"},De={class:"row items-center q-mb-sm"},Ne={class:"col-auto text-h6"},Ee={key:0,class:"text-negative q-mb-md"};function Le(e,l,_,I,t,f){return d(),A(fe,{class:"q-pa-lg"},{default:s(()=>[o("div",we,[o("div",ke,[u(y,{flat:"",bordered:"",class:"q-mb-md"},{default:s(()=>[u(xe,{modelValue:t.currentImage,"onUpdate:modelValue":l[0]||(l[0]=n=>t.currentImage=n),animated:"",arrows:"","control-color":"black",height:"400px"},{default:s(()=>[(d(!0),v(h,null,x(t.lot.images,(n,c)=>(d(),A(be,{key:c,name:c,class:"flex flex-center"},{default:s(()=>[o("img",{src:n,class:"full-height",style:{"max-width":"100%","object-fit":"contain",display:"block"}},null,8,Ce)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(y,{flat:"",bordered:"",class:"q-pa-md q-mb-md"},{default:s(()=>[o("div",Pe,r(t.lot.name),1),o("div",Be,"ID: "+r(t.lot.id),1),o("div",pe,[u(S,{color:"grey"},{default:s(()=>[p(r(t.lot.year)+" год",1)]),_:1}),u(S,{color:"grey"},{default:s(()=>[p(r(t.lot.gender),1)]),_:1}),u(S,{color:"grey"},{default:s(()=>[p(r(t.lot.color),1)]),_:1})]),o("div",Se,r(t.lot.description),1),l[2]||(l[2]=o("div",{class:"text-h6 q-mb-sm"},"Достижения:",-1)),o("ul",null,[(d(!0),v(h,null,x(t.lot.achievements,(n,c)=>(d(),v("li",{key:c},r(n),1))),128))])]),_:1,__:[2]}),u(y,{flat:"",bordered:"",class:"q-pa-md"},{default:s(()=>[l[3]||(l[3]=o("div",{class:"text-h5 q-mb-md"},"Характеристики",-1)),u(R,{flat:"",bordered:""},{default:s(()=>[o("tbody",null,[(d(!0),v(h,null,x(t.lot.characteristics,(n,c)=>(d(),v("tr",{key:c},[o("td",Ie,r(c),1),o("td",null,r(n),1)]))),128))])]),_:1})]),_:1,__:[3]})]),o("div",Te,[u(y,{flat:"",bordered:"",class:"q-pa-md sticky-card"},{default:s(()=>[l[7]||(l[7]=o("div",{class:"text-h5 q-mb-md"},"Аукцион",-1)),o("div",Qe,[l[4]||(l[4]=o("div",{class:"col text-subtitle1"},"Текущая цена:",-1)),o("div",Ve,r(t.lot.currentPrice)+" ₸",1)]),t.userBid>0?(d(),v(h,{key:0},[o("div",De,[l[5]||(l[5]=o("div",{class:"col text-subtitle1"},"Ваша ставка:",-1)),o("div",Ne,r(t.userBid)+" ₸",1)]),t.userBid<t.lot.currentPrice?(d(),v("div",Ee," Ваша ставка перебита ")):O("",!0)],64)):O("",!0),u(_e,{modelValue:t.newBid,"onUpdate:modelValue":l[1]||(l[1]=n=>t.newBid=n),modelModifiers:{number:!0},type:"number",label:"Ваша ставка",min:t.lot.currentPrice+100,outlined:"",class:"q-mb-md"},null,8,["modelValue","min"]),u(w,{color:"primary",label:"Сделать ставку",onClick:f.placeBid,disable:t.newBid<=t.lot.currentPrice,class:"full-width q-mb-md"},null,8,["onClick","disable"]),l[8]||(l[8]=o("div",{class:"text-h6 q-mb-sm"},"История ставок:",-1)),u(R,{flat:"",bordered:""},{default:s(()=>[l[6]||(l[6]=o("thead",null,[o("tr",null,[o("th",null,"Пользователь"),o("th",null,"Ставка"),o("th",null,"Время")])],-1)),o("tbody",null,[(d(!0),v(h,null,x(t.lot.bidHistory,(n,c)=>(d(),v("tr",{key:c},[o("td",null,r(n.user),1),o("td",null,r(n.amount)+" ₸",1),o("td",null,r(f.formatTime(n.time)),1)]))),128))])]),_:1,__:[6]})]),_:1,__:[7,8]})])])]),_:1})}const Ge=ae(ye,[["render",Le]]);export{Ge as default};
